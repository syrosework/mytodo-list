(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,o){t.exports={root:"SortingSelect_root__HDZYG",value:"SortingSelect_value__3eOTy",optionsList:"SortingSelect_optionsList__1FNYU",optionItem:"SortingSelect_optionItem__3r5qn"}},15:function(t,e,o){t.exports={root:"App_root__2Oox0",header:"App_header__1eFJi"}},16:function(t,e,o){t.exports={root:"TodoList_root__19jZh",createTodoButton:"TodoList_createTodoButton__2C0VC"}},28:function(t,e,o){t.exports=o(47)},33:function(t,e,o){},47:function(t,e,o){"use strict";o.r(e);var n=o(0),a=o.n(n),r=o(23),i=o.n(r),c=(o(33),o(1)),u=o(3),s=o(5),l=o(4),d=o(6),O=o(15),p=o.n(O),b=o(16),f=o.n(b),_=o(9),v=o(11),h=o(8),m=o.n(h),T=o(13),j=o.n(T),g=o(2);function y(t){return{type:"CREATE_TODO_ACTION",payload:t}}function I(t){return{type:"UPDATE_TODO_ACTION",payload:t}}function C(t){return{type:"REMOVE_TODO_ACTION",payload:t}}var E=o(25),S=o.n(E),N=function(t){function e(){var t,o;Object(c.a)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(a)))).onTitleChange=function(t){o.props.updateTodo({id:o.props.todo.id,dateModified:new Date,title:t.target.value})},o.onToggleIsDoneButtonClick=function(){var t=o.props.todo,e=t.id,n=t.isDone;o.props.updateTodo({id:e,dateModified:new Date,isDone:!n})},o.onDeleteButtonClick=function(){var t=o.props.todo.id;o.props.removeTodo({id:t})},o}return Object(d.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.props.todo,e=t.isDone,o=t.title;return n.createElement("li",{className:m.a.root},n.createElement(S.a,{className:m.a.title,defaultValue:o,onBlur:this.onTitleChange}),n.createElement("div",{className:m.a.buttonGroup},n.createElement("button",{onClick:this.onToggleIsDoneButtonClick,className:j()(m.a.button,m.a.buttonCheck,Object(v.a)({},m.a.buttonIsDone,e))}),n.createElement("button",{onClick:this.onDeleteButtonClick,className:j()(m.a.button,m.a.buttonDelete)})))}}]),e}(n.Component);var D=Object(_.b)(null,function(t){return Object(g.a)({updateTodo:I,removeTodo:C},t)})(N),k=o(26),w=o(19),A=Object(w.a)(function(t){return t.todos},function(t){return t.ids.map(function(e){return t.byId[e]})}),L=Object(w.a)(A,function(t){return t.sorting.currentSorting},function(t,e){var o=Object(k.a)(t);switch(e.value){case"title":return o.sort(function(t,e){return t.title>e.title?1:t.title<e.title?-1:0});case"titleReverse":return o.sort(function(t,e){return t.title>e.title?-1:t.title<e.title?1:0});default:return o}}),R=function(t){function e(){var t,o;Object(c.a)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(a)))).onCreateTodoButtonClick=function(){o.props.createTodo({id:o.props.todoNextId,title:"",dateCreated:new Date})},o}return Object(d.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.props.todos;return n.createElement("ul",{className:f.a.root},t.map(function(t){return n.createElement(D,{key:t.id,todo:t})}),n.createElement("button",{className:f.a.createTodoButton,onClick:this.onCreateTodoButtonClick},"Create Todo +"))}}]),e}(n.Component);var B=Object(_.b)(function(t){return{todos:L(t),todoNextId:t.todos.todoNextId}},function(t){return Object(g.a)({createTodo:y},t)})(R),x=o(14),M=o.n(x);function G(t){return{type:"CHANGE_SORTING_ACTION",payload:t}}var V=function(t){function e(){var t,o;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(o=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).state={listOpened:!1},o.rootRef=n.createRef(),o.toggleOptionsList=function(){o.setState({listOpened:!o.state.listOpened})},o.clickOutsideOfSelectListener=function(t){o.rootRef.current&&t.target instanceof Element&&!o.rootRef.current.contains(t.target)&&o.closeOptionsList()},o.closeOptionsList=function(){o.setState({listOpened:!1})},o.onSortingChange=function(t){return function(){o.props.changeSorting(t),o.closeOptionsList()}},o}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.clickOutsideOfSelectListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.clickOutsideOfSelectListener)}},{key:"render",value:function(){var t=this,e=this.props,o=e.currentSorting,a=e.sortings,r=this.state.listOpened;return n.createElement("div",{ref:this.rootRef,className:M.a.root},n.createElement("button",{className:M.a.value,onClick:this.toggleOptionsList},"Sort: ",o.label),r&&n.createElement("ul",{className:j()(M.a.optionsList)},a.map(function(e){return n.createElement("button",{className:M.a.optionItem,key:e.value,onClick:t.onSortingChange(e)},e.label)})))}}]),e}(n.Component);var U=Object(_.b)(function(t){return t.sorting},function(t){return Object(g.a)({changeSorting:G},t)})(V),J=function(t){function e(){return Object(c.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:p.a.root},a.a.createElement("header",{className:p.a.header},"Todo App",a.a.createElement(U,null)),a.a.createElement(B,null))}}]),e}(n.Component),X=o(27),H=o(7);var Y=function(t){function e(){return Object(c.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"loadState",value:function(t){try{var e=localStorage.getItem(this.stateId);return null===e?t:JSON.parse(e)}catch(o){return console.error(o),t}}},{key:"saveState",value:function(t){try{var e=JSON.stringify(t);localStorage.setItem(this.stateId,e)}catch(o){console.error(o)}}}]),e}(function t(e){Object(c.a)(this,t),this.stateId=void 0,this.stateId=e}),F={value:"title",label:"by Title \u2193"},K={value:"titleReverse",label:"by Title \u2191"};function P(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case"CHANGE_SORTING_ACTION":return Object(H.a)({},e,{currentSorting:o.payload});default:return e}}}var W=function(){var t,e=new Y("my-todo"),o=e.loadState({todos:{byId:{},ids:[],todoNextId:0},sorting:{currentSorting:F,sortings:[F,K]}}),n=Object(g.c)(Object(g.b)({todos:(t=o.todos,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case"CREATE_TODO_ACTION":var n=o.payload,a=n.id,r=n.dateCreated,i=n.title;return Object(H.a)({},e,{byId:Object(H.a)({},e.byId,Object(v.a)({},a,{id:a,title:i,dateCreated:r,dateModified:r,isDone:!1})),ids:e.ids.concat(a),todoNextId:a+1});case"UPDATE_TODO_ACTION":var c=o.payload,u=c.id,s=c.dateModified,l=Object(X.a)(c,["id","dateModified"]);return Object(H.a)({},e,{byId:Object(H.a)({},e.byId,Object(v.a)({},u,Object(H.a)({},e.byId[u],{dateModified:s},l)))});case"REMOVE_TODO_ACTION":var d=o.payload.id,O=Object(H.a)({},e.byId);return delete O[d],Object(H.a)({},e,{byId:O,ids:e.ids.filter(function(t){return t!==d})});default:return e}}),sorting:P(o.sorting)}),o,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());return n.subscribe(function(){e.saveState(n.getState())}),n}();i.a.render(a.a.createElement(_.a,{store:W},a.a.createElement(J,null)),document.getElementById("root"))},8:function(t,e,o){t.exports={root:"TodoItem_root__vlunD",title:"TodoItem_title__1VbDb",buttonGroup:"TodoItem_buttonGroup__IfVaC",button:"TodoItem_button__3KoKU",buttonCheck:"TodoItem_buttonCheck__3ScDv",buttonDelete:"TodoItem_buttonDelete__30p0Y",buttonIsDone:"TodoItem_buttonIsDone__2L2WB"}}},[[28,2,1]]]);
//# sourceMappingURL=main.3749b22a.chunk.js.map